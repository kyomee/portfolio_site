---
/**
 * Easter Eggs
 * Konami code and other hidden features
 */
---

<script>
  // Konami Code: â†‘ â†‘ â†“ â†“ â† â†’ â† â†’ B A
  const konamiCode = [
    'ArrowUp', 'ArrowUp',
    'ArrowDown', 'ArrowDown',
    'ArrowLeft', 'ArrowRight',
    'ArrowLeft', 'ArrowRight',
    'KeyB', 'KeyA'
  ];

  let konamiIndex = 0;

  document.addEventListener('keydown', (e) => {
    if (e.code === konamiCode[konamiIndex]) {
      konamiIndex++;

      if (konamiIndex === konamiCode.length) {
        activateKonamiMode();
        konamiIndex = 0;
      }
    } else {
      konamiIndex = 0;
    }
  });

  function activateKonamiMode() {
    // Create celebration overlay
    const overlay = document.createElement('div');
    overlay.id = 'konami-overlay';
    overlay.innerHTML = `
      <div class="konami-content">
        <div class="konami-emoji">ðŸŽ®</div>
        <h2>You found it!</h2>
        <p>Thanks for exploring. Here's a virtual high-five. âœ‹</p>
      </div>
    `;

    overlay.style.cssText = `
      position: fixed;
      inset: 0;
      background: rgba(10, 10, 11, 0.95);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 10000;
      animation: fadeIn 0.3s ease;
    `;

    const style = document.createElement('style');
    style.textContent = `
      @keyframes fadeIn {
        from { opacity: 0; }
        to { opacity: 1; }
      }
      @keyframes bounce {
        0%, 100% { transform: translateY(0); }
        50% { transform: translateY(-20px); }
      }
      @keyframes rainbow {
        0% { color: #ff6b6b; }
        14% { color: #feca57; }
        28% { color: #48dbfb; }
        42% { color: #1dd1a1; }
        57% { color: #5f27cd; }
        71% { color: #ff9ff3; }
        85% { color: #54a0ff; }
        100% { color: #ff6b6b; }
      }
      #konami-overlay .konami-content {
        text-align: center;
      }
      #konami-overlay .konami-emoji {
        font-size: 5rem;
        animation: bounce 0.6s ease infinite;
        margin-bottom: 1rem;
      }
      #konami-overlay h2 {
        font-size: 2rem;
        margin-bottom: 0.5rem;
        animation: rainbow 2s linear infinite;
      }
      #konami-overlay p {
        color: #a1a1aa;
        font-size: 1.1rem;
      }
    `;
    document.head.appendChild(style);
    document.body.appendChild(overlay);

    // Add confetti effect
    createConfetti();

    // Remove after click or 5 seconds
    const removeOverlay = () => {
      overlay.style.animation = 'fadeIn 0.3s ease reverse';
      setTimeout(() => {
        overlay.remove();
        style.remove();
      }, 300);
    };

    overlay.addEventListener('click', removeOverlay);
    setTimeout(removeOverlay, 5000);
  }

  function createConfetti() {
    const colors = ['#6366f1', '#8b5cf6', '#ec4899', '#f59e0b', '#10b981'];
    const confettiCount = 50;

    for (let i = 0; i < confettiCount; i++) {
      const confetti = document.createElement('div');
      confetti.style.cssText = `
        position: fixed;
        width: 10px;
        height: 10px;
        background: ${colors[Math.floor(Math.random() * colors.length)]};
        left: ${Math.random() * 100}vw;
        top: -10px;
        z-index: 10001;
        pointer-events: none;
        border-radius: ${Math.random() > 0.5 ? '50%' : '0'};
        animation: confettiFall ${2 + Math.random() * 2}s linear forwards;
      `;

      const style = document.createElement('style');
      style.textContent = `
        @keyframes confettiFall {
          to {
            top: 100vh;
            transform: rotate(${Math.random() * 720}deg) translateX(${(Math.random() - 0.5) * 200}px);
            opacity: 0;
          }
        }
      `;
      document.head.appendChild(style);
      document.body.appendChild(confetti);

      setTimeout(() => {
        confetti.remove();
        style.remove();
      }, 4000);
    }
  }
</script>
